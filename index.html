<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music DNA Finder | あなたの音楽属性診断</title>
    <style>
        :root {
            --primary: #6366f1;
            --secondary: #ec4899;
            --bg: #f1f5f9;
            --card-bg: #ffffff;
            --text-main: #1e293b;
            --text-sub: #64748b;
        }

        body {
            font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            width: 90%;
            max-width: 500px;
            background: var(--card-bg);
            padding: 40px 30px;
            border-radius: 24px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            text-align: center;
            position: relative;
        }

        /* 進行状況バー */
        .progress-container {
            width: 100%;
            height: 6px;
            background: #e2e8f0;
            border-radius: 10px;
            margin-bottom: 40px;
            overflow: hidden;
        }
        #progress-bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transition: width 0.4s ease;
        }

        .question-number {
            font-size: 0.9rem;
            color: var(--text-sub);
            font-weight: bold;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 1.25rem;
            font-weight: bold;
            line-height: 1.5;
            min-height: 80px;
            margin-bottom: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ボタンデザイン */
        .btn-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .btn {
            padding: 18px;
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            background: white;
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-main);
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn:hover {
            border-color: var(--primary);
            background: #f5f3ff;
            transform: translateY(-2px);
        }

        .btn-middle {
            font-size: 0.85rem;
            color: var(--text-sub);
            border-style: dashed;
        }

        /* 結果画面 */
        #result-screen {
            display: none;
            animation: fadeIn 0.8s ease forwards;
        }

        .title-badge {
            display: inline-block;
            padding: 6px 16px;
            background: #f5f3ff;
            color: var(--primary);
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-bottom: 15px;
            letter-spacing: 1px;
        }

        .result-title {
            font-size: 1.8rem;
            font-weight: 900;
            margin-bottom: 20px;
            line-height: 1.3;
        }

        .result-desc {
            font-size: 0.95rem;
            color: var(--text-sub);
            line-height: 1.6;
            margin-bottom: 30px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .retry-btn {
            background: var(--primary);
            color: white;
            border: none;
            width: 100%;
        }
    </style>
</head>
<body>

<div class="container">
    <div id="quiz-screen">
        <div class="progress-container"><div id="progress-bar"></div></div>
        <div class="question-number" id="q-number">Question 1/15</div>
        <div class="question-text" id="q-text">読み込み中...</div>
        <div class="btn-group">
            <button class="btn" onclick="answer(2)">はい / そう思う</button>
            <button class="btn btn-middle" onclick="answer(1)">どちらともいえない</button>
            <button class="btn" onclick="answer(0)">いいえ / 違うと思う</button>
        </div>
    </div>

    <div id="result-screen">
        <div class="title-badge">YOUR MUSIC DNA</div>
        <div class="result-title" id="res-name"></div>
        <div class="result-desc" id="res-desc"></div>
        
        <div style="padding: 20px; background: #f8fafc; border-radius: 16px; margin-bottom: 30px;">
            <p style="font-size: 0.8rem; font-weight: bold; color: var(--text-sub); margin-bottom: 10px;">おすすめのアーティスト（準備中）</p>
            <p style="font-size: 0.9rem; color: #94a3b8;">あなたのDNAに刻まれたアーティストを解析中です...</p>
        </div>

        <button class="btn retry-btn" onclick="location.reload()">もう一度診断する</button>
    </div>
</div>

<script>
    const questions = [
        { q: "ストレスを吹き飛ばすような、爆音のロックに解放感を感じる。", cat: "energy" },
        { q: "音楽には、ポジティブで明るい「元気」をチャージしてほしい。", cat: "energy" },
        { q: "ライブで盛り上がる曲や、リズム重視のダンスミュージックが好き。", cat: "energy" },
        { q: "歌詞を「言葉」として一文字ずつ噛み締め、その意味を深く考察したい。", cat: "deep" },
        { q: "つらい時は、無理な励ましよりも「一緒に底まで沈してくれる曲」がいい。", cat: "deep" },
        { q: "雨の日や深夜など、静かな時間に一人で浸れる音楽が日常に欠かせない。", cat: "deep" },
        { q: "「チル」や「エモい」という言葉が似合う、洗練されたお洒落な空気が好き。", cat: "aesthetic" },
        { q: "激しすぎる音より、空間を彩る「静かで優雅な響き」に心地よさを感じる。", cat: "aesthetic" },
        { q: "変拍子や予想外の転調など、頭を使う「複雑な構成」の曲にゾクゾクする。", cat: "skill" },
        { q: "曲の良し悪しは、開始数秒の「イントロ」で決まると思っている。", cat: "skill" },
        { q: "それぞれの楽器（ベースやドラムなど）が際立つような曲が好きだ。", cat: "skill" },
        { q: "歌声よりも、楽器の音だけで構成されたインスト曲にかっこよさを感じる。", cat: "skill" },
        { q: "ネット発の才能や、正体不明でミステリアスなアーティストにワクワクする。", cat: "dig" },
        { q: "まだ誰にも見つかっていないインディーズバンドを見つけ出すのが喜びだ。", cat: "dig" },
        { q: "ジャンルにこだわらず、常に新しい刺激を求めてディグり続けている。", cat: "dig" }
    ];

    let currentIdx = 0;
    let scores = { energy: 0, deep: 0, aesthetic: 0, skill: 0, dig: 0 };

    function updateUI() {
        const q = questions[currentIdx];
        document.getElementById('q-text').innerText = q.q;
        document.getElementById('q-number').innerText = `Question ${currentIdx + 1}/${questions.length}`;
        document.getElementById('progress-bar').style.width = `${(currentIdx / questions.length) * 100}%`;
    }

    function answer(point) {
        const cat = questions[currentIdx].cat;
        scores[cat] += point;

        currentIdx++;
        if (currentIdx < questions.length) {
            updateUI();
        } else {
            showResult();
        }
    }

    function showResult() {
        document.getElementById('quiz-screen').style.display = 'none';
        const resScreen = document.getElementById('result-screen');
        resScreen.style.display = 'block';

        // スコア順にソートして1位と2位を特定
        // ただしメイン3軸(E/D/A)を優先的に見る
        const mainAxes = [
            { id: 'energy', val: scores.energy },
            { id: 'deep', val: scores.deep },
            { id: 'aesthetic', val: scores.aesthetic }
        ].sort((a,b) => b.val - a.val);

        const subAxes = [
            { id: 'skill', val: scores.skill },
            { id: 'dig', val: scores.dig }
        ].sort((a,b) => b.val - a.val);

        const top1 = mainAxes[0].id;
        // 2位は、メインの2位か、サブの1位か、点数が高い方を採用
        const remaining = [mainAxes[1], subAxes[0]].sort((a,b) => b.val - a.val);
        const top2 = remaining[0].id;

        const combo = `${top1}_${top2}`;
        const titleMap = {
            "energy_skill": ["超絶技巧の熱狂的マエストロ", "激しさの中にある緻密な演奏技術や構成の凄さを見抜く耳の持ち主。"],
            "energy_dig": ["最前線を焼く爆音ハンター", "新しい刺激と熱狂を求めて、インディーズからネット発まで常に掘り続ける開拓者。"],
            "energy_deep": ["魂を震わせる情熱の代弁者", "明るい曲の中にも深いメッセージ性を求め、全力で音楽に感情移入するタイプ。"],
            "energy_aesthetic": ["光り輝くステージの目撃者", "派手なパフォーマンスや洗練されたビジュアル、華やかな空間そのものを愛するタイプ。"],
            "deep_skill": ["深淵を設計する音響哲学者", "一曲の物語性を大事にしつつ、その裏にある複雑な構成を分析して楽しむタイプ。"],
            "deep_dig": ["ネットの海底を漂う感情の観測者", "自分だけの孤独に寄り添ってくれる、まだ見ぬ誰かの歌をネットの底で探し続ける。"],
            "deep_energy": ["静寂を切り裂く心の革命家", "心の内側に強い熱量を秘めており、エモーショナルな爆音に救いを見出すタイプ。"],
            "deep_aesthetic": ["月夜に沈む美学の詩人", "深夜や雨の日に、美しい言葉選びと綺麗な旋律だけに浸り、自分だけの世界を作る。"],
            "aesthetic_skill": ["完璧な余白を創る音響アーキテクト", "お洒落な雰囲気だけでなく、その空間を構成する音色や「鳴り」にこだわる人。"],
            "aesthetic_dig": ["トレンドの境界を歩く審美家", "常に最先端のセンスを持ち、ジャンルレスに「今かっこいい音」をキャッチする。"],
            "aesthetic_energy": ["鮮やかに踊るアーバン・ダンサー", "洗練された都会的なビートを好み、音楽で日常を鮮やかに彩るスタイル派。"],
            "aesthetic_deep": ["黄昏に寄り添うエモ・ドリーマー", "空気感と切ない歌詞に弱く、音楽を聴くことで一つの物語の中に没入したいタイプ。"],
            "skill_dig": ["未踏の譜面を解く音の解析官", "感情よりも音の面白さが先行。誰も聴いていない複雑な音楽を見つけるのが快感。"]
        };

        const result = titleMap[combo] || ["ジャンル無用の音楽放浪者", "特定のジャンルに定住せず、常に新しい音を求めてさまよい続ける音楽の冒険家。"];
        
        document.getElementById('res-name').innerText = result[0];
        document.getElementById('res-desc').innerText = result[1];
    }

    updateUI();
</script>

</body>
</html>
